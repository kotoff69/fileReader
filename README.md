# Тестовое задание
-----
## PHP
1. Нужно создать библиотеку, которая сможет искать в файле вхождение строки, и выдавать номер строки в файле и позицию в строке. Файл может быть произвольного размера.
2. Дополнительно: предусмотреть ограничения (максимальный размер файла, его mime-type, и т.п.). Желательно их вынести в отдельный yaml конфиг.
3. Дополнительно: покрыть код тестами.
4. Дополнительно: сделать возможность добавления модулей для разных
механизмов поиска (например, если нужно искать не вхождение, а сравнивать
хэш-суммы, и т.п.)
5. Дополнительно: сделать возможность читать данные не только с локальной
файловой системы, но и удаленной.

### Установка
```bash
composer install
```
В файле `index.php` приведены примеры использования. Библиотека и компоненты расположены в директории `src`, тесты - в `tests`
### Зависимости
Все основные зависимости включены в файл `composer.json`
Для доступа к удаленным файлам требуется установить библиотеку `ssh2` (http://php.net/manual/ru/book.ssh2.php).

### Использвание
Основа библиотеки - класс `src/FileReader.php`. Он принимает объект файла и модуля. Файл может быть расположен локально или на другом сервере. Модуль представляет собой основной функционал, который нужно выполнить над файлом.
Файл и модуль должны соответствовать определенному уровню абстракции. Это делает возможным добавление новых видов файлов (например, файл по ULR) и новых модулей.

Через конфигурационный файл `config.yaml` можно управлять основными настройками библиотеки:
* Устанавливать максимальный размер файла для обработки;
* Устанавливать разрешенные mime-типы файлов для обработки.

При желании могут быть добавлены новые параметры.

Для удобства использования могут быть созданы фабрики, возвращающие готовый для использования объект.
Например,
* `src/Factories/CompareLocalFileHashFactory.php` - сравнить хеш локального файла;
* `src/Factories/CompareRemoteFileHashFactory.php` - сравнить хеш файла на другом сервере;
* `src/Factories/SearchLocalFileFactory.php` - поиск строки в локальном файле;
* `src/Factories/SearchRemoteFileFactory.php` - поиск строки в файле на удаленном сервере.

## SQL

Дaнa тaблицa users видa - id, group_id
create temp table users(id bigserial, group_id bigint); insert into users(group_id) values (1), (1), (1), (2), (1), (3); В этoй тaблицe, упoрядoчeнoй пo ID неoбхoдимo:
1. ~~Выделить нeпрeрывныe гpyппы пo group_id с yчетoм yкaзaннoгo пopядкa записей (их 4)~~
2. Подсчитать количество записей в каждой группе
3. Вычислить минимальный ID записи в группe
```sql
select min(id) as min_id, group_id, count(id) as count from users group by group_id;
```
